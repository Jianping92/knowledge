# Vue 的双向绑定原理
## Vue 的双向绑定原理主要步骤：
1. 解析模板：解析模板找到所有使用了双花括号 `{{}}` 或 `v-model` 指令的地方；
2. 创建 `Watcher` 对象：当 `Vue` 实例化时，对于每个使用了双花括号 `{{}}` 或 `v-model` 指令的地方，会创建一个 `Watcher` 对象。
3. 监听数据变化：`Watcher` 对象会监听数据的变化，当数据变化时，它会触发相应的回调函数。
4. 更新视图：回调函数会更新视图，确保模板和数据的同步。
5. 监听视图变化：如果使用了 `v-model` 指令，那么 `Watcher` 对象还会监听视图的变化，当视图变化时，它会更新数据。
6. 更新数据：通过 `v-model` 指令更新数据后，如果数据发生变化，那么 `Watcher` 对象会触发相应的回调函数来更新视图。

## Vue3 与 Vue2 在双向绑定上的区别
主要区别是 `Vue3` 使用了 `Proxy` 代理对象来实现双向绑定，而 `Vue2` 则是通过 `Object.defineProperty()` 来实现的双向绑定。

`Vue3` 使用 `Proxy` 代理对象来解决 `Vue2` 的一些局限性，例如不能监听对象新增或删除属性的问题。
当 `Vue` 实例化时，`Vue` 会根据数据创建 `Proxy` 对象，使该对象可以被观察。

`Vue3` 使用 `Reflect` 监听 `Proxy` 对象属性的变化，当一个属性被访问或修改时，`Proxy` 对象会派发 `Reflect` 事件，并调用相应的处理程序。
